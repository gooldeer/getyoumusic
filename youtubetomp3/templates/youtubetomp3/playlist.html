{% extends "youtubetomp3/base.html" %}

{% block title %}{{ playlist.name }}{% endblock %}

{% block style %}
  {% load staticfiles %}
  <link href="{% static 'css/playlist.css' %}" rel="stylesheet">
{% endblock %}

{% block sidebar %}
  <ul class="nav navbar-nav">
    <li><a href="{% url 'youtubetomp3:playlists' %}">To playlists</a></li>
  </ul>
{% endblock %}

{% block content %}
  {% csrf_token %}

  <div class="card">
    <div class="container">

      <h1>{{ playlist.name }}</h1>
      <a data-toggle="modal" href="#myModal" type="button">
        {% with "img/"|add:playlist.color|add:".png" as image %}
        <img class="header-right-button" src="{% static image %}">
        {% endwith %}
      </a>
      <hr>

      <table border="0">

        {% for media in media_set.all %}

          <tr>
              <td>
                  <a href="{{ media.mediafile }}">{{ media.mediafile }}</a>
              </td>

              <td>
                  <a href="{% url 'youtubetomp3:remove_media' playlistName=playlist.name media=media.mediafile %}" method="GET">Remove</a>
              </td>
          </tr>

        {% endfor %}

      </table>


    </div>
  </div>

    <table border="0">
        <th>{{ playlist.name }}</th>

        {% for media in media_set.all %}

            <tr>
                <td>
                    <a href="{{ media.mediafile }}">{{ media.mediafile }}</a>
                </td>

                <td>
                    <a href="{% url 'youtubetomp3:remove_media' playlistName=playlist.name media=media.mediafile %}" method="GET">Remove</a>
                </td>
            </tr> 

        {% endfor %}
    </table>

    <audio controls="controls">
      {# <source src="track.ogg" type="audio/ogg" /> #}
      <source src="../../media/track.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
    </audio>
{% endblock %}